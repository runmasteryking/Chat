/*──────────────────────────────────────────────────────────────────────────
  Design-tokens: färger, typografi, spacing, radier
──────────────────────────────────────────────────────────────────────────*/
:root {
  /* Colors */
  --clr-primary: #FFD34E;
  --clr-primary-alt: #FFF176;
  --clr-bg-start: #FFE36B;
  --clr-bg-end: #fff9e6;
  --clr-text: #111;
  --clr-text-muted: #6B7280;
  --clr-white: #fff;
  --clr-overlay: rgba(255,255,255,0.85);

  /* Radius */
  --radius-sm: 8px;
  --radius-md: 16px;
  --radius-lg: 32px;
  --radius-pill: 9999px;

  /* Spacing */
  --space-xs: 4px;
  --space-sm: 8px;
  --space-md: 16px;
  --space-lg: 24px;
  --space-xl: 32px;

  /* Typography */
  --font-sans: 'Inter', sans-serif;
  --fz-base: 16px;
  --fz-lg: 18px;
  --fz-xl: 24px;
  --lh-base: 1.6;
}

/*──────────────────────────────────────────────────────────────────────────
  Global resets & layout
──────────────────────────────────────────────────────────────────────────*/
*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html, body {
  height: 100%;
  font-family: var(--font-sans);
  font-size: var(--fz-base);
  line-height: var(--lh-base);
  color: var(--clr-text);
  background: linear-gradient(to top, var(--clr-bg-start), var(--clr-bg-end));
  position: relative;
  overflow-x: hidden;
}

/* Overlay-fade över hela sidan */
body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: linear-gradient(to top, var(--clr-overlay) 0%, transparent 30%);
  pointer-events: none;
  z-index: 0;
}

/*──────────────────────────────────────────────────────────────────────────
  Header
──────────────────────────────────────────────────────────────────────────*/
header {
  position: sticky;
  top: 0;
  z-index: 100;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-md) var(--space-lg);
  background: transparent;
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

.brand {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  white-space: nowrap;
}

.brand-logo {
  width: 40px;
  height: 40px;
  border-radius: var(--radius-pill);
  background-color: var(--clr-primary);
  object-fit: cover;
}

.brand-title {
  font-size: var(--fz-xl);
  font-weight: 800;
  letter-spacing: -0.5px;
}

#user-area {
  display: flex;
  align-items: center;
  gap: var(--space-md);
}

#loginBtn,
#userName {
  background: var(--clr-primary);
  color: var(--clr-text);
  font-weight: 600;
  border: none;
  border-radius: var(--radius-pill);
  padding: var(--space-sm) var(--space-lg);
  cursor: pointer;
  transition: background .2s;
  white-space: nowrap;
}

#loginBtn:hover,
#userName:hover {
  background: var(--clr-primary-alt);
}

/*──────────────────────────────────────────────────────────────────────────
  Intro
──────────────────────────────────────────────────────────────────────────*/
.intro {
  text-align: center;
  padding: var(--space-xl) var(--space-md) var(--space-lg);
  min-height: 120px;
}

.intro h1 {
  font-size: 2.5rem;
  font-weight: 800;
  margin-bottom: var(--space-sm);
}

.intro p {
  font-size: var(--fz-lg);
  font-weight: 400;
  color: var(--clr-text);
  line-height: var(--lh-base);
}

/*──────────────────────────────────────────────────────────────────────────
  Chat-container & wrapper — återställ det snygga fönstret
──────────────────────────────────────────────────────────────────────────*/
.chat-container {
  /* Ta bort fullskärms-positioneringen */
  position: static;
  top: auto;
  bottom: auto;
  left: auto;
  right: auto;

  /* Centrera hela chat-wrapper */
  display: block;
  padding: 0;
  margin: 0;  
}

#chat-wrapper {
  /* Centrera och ge utrymme runtom */
  margin: var(--space-lg) auto;
  max-width: 620px;

  /* Rutans utseende */
  background: var(--clr-white);
  border: 2px solid var(--clr-primary);
  border-radius: var(--radius-lg);
  box-shadow: 0 12px 28px rgba(0,0,0,0.05);

  /* Flex-layout inuti */
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* Messages får en fast höjd med scroll */
#messages {
  flex: 1;
  padding: var(--space-md);
  overflow-y: auto;
  /* Sätt gärna en max-höjd för desktop */
  max-height: 400px;
}

/* Input‐area behåller sin fasta bottenposition inuti wrappern */
#input-area {
  padding: var(--space-sm) var(--space-md);
  background: var(--clr-white);
  box-shadow: 0 -2px 8px rgba(0,0,0,0.05);
}

/*──────────────────────────────────────────────────────────────────────────
  Message bubbles
──────────────────────────────────────────────────────────────────────────*/
.message {
  max-width: 80%;
  padding: var(--space-sm) var(--space-md);
  border-radius: var(--radius-lg);
  font-size: var(--fz-base);
  line-height: var(--lh-base);
  white-space: pre-wrap;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
  opacity: 0;
  transform: translateY(10px);
  animation: fadeIn .35s ease forwards;
}

@keyframes fadeIn {
  to { opacity: 1; transform: translateY(0); }
}

.message.user {
  align-self: flex-end;
  background: var(--clr-white);
  border-bottom-right-radius: var(--radius-sm);
}

.message.bot {
  align-self: flex-start;
  background: var(--clr-primary-alt);
  border-bottom-left-radius: var(--radius-sm);
  display: flex;
  gap: var(--space-sm);
  align-items: flex-start;
}

.bot-avatar {
  width: 30px;
  height: 30px;
  border-radius: var(--radius-pill);
  background: var(--clr-primary);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--fz-base);
  font-weight: 700;
}

/*──────────────────────────────────────────────────────────────────────────
  Input-area (autosize + fixed)
──────────────────────────────────────────────────────────────────────────*/
#input-area {
  position: sticky;
  bottom: 0;
  background: var(--clr-white);
  padding: env(safe-area-inset-bottom) var(--space-md) var(--space-md);
  box-shadow: 0 -2px 8px rgba(0,0,0,0.05);
  display: flex;
  align-items: flex-end;
  gap: var(--space-sm);
}

/* Autosize textarea */
textarea {
  flex: 1;
  font-size: var(--fz-base);
  padding: var(--space-sm) var(--space-md);
  border: 1px solid var(--clr-primary);
  border-radius: var(--radius-lg);
  resize: none;
  overflow: hidden;
  line-height: var(--lh-base);
  transition: border-color .2s;
}

textarea:focus {
  outline: none;
  border-color: var(--clr-primary-alt);
}

#sendBtn {
  background: var(--clr-primary);
  color: var(--clr-text);
  border: none;
  border-radius: var(--radius-lg);
  padding: var(--space-sm) var(--space-lg);
  font-size: var(--fz-lg);
  cursor: pointer;
  transition: background .2s;
  height: 56px;
}

#sendBtn:hover {
  background: var(--clr-primary-alt);
}

/*──────────────────────────────────────────────────────────────────────────
  Option-buttons
──────────────────────────────────────────────────────────────────────────*/
.option-button {
  background: var(--clr-primary-alt);
  color: var(--clr-text);
  font-weight: 600;
  border: 1px solid var(--clr-primary);
  border-radius: var(--radius-pill);
  padding: var(--space-sm) var(--space-md);
  font-size: var(--fz-base);
  cursor: pointer;
  transition: background .2s, transform .1s;
}

.option-button:hover {
  background: var(--clr-primary);
  transform: scale(1.02);
}

/*──────────────────────────────────────────────────────────────────────────
  Responsive / Mobile-first breakpoints
──────────────────────────────────────────────────────────────────────────*/
@media (min-width: 640px) {
  .intro h1 {
    font-size: 3rem;
  }
  .intro p {
    font-size: var(--fz-lg);
  }
  .brand-title {
    font-size: 1.6rem;
  }
  .brand-logo {
    width: 48px;
    height: 48px;
  }
  #sendBtn {
    height: 48px;
    font-size: var(--fz-base);
  }
}
